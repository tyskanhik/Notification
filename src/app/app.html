<!-- app.html - –û–ë–ù–û–í–õ–ï–ù–ù–ê–Ø –í–ï–†–°–ò–Ø -->
<app-notification-container />

<div class="app">
  <header class="app-header">
    <h1>üîî –°–æ–∑–¥–∞–Ω–∏–µ –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–π</h1>
  </header>

  <main class="app-main">
    <div class="form-section">
      <div class="notification-form">
        <h2>–°–æ–∑–¥–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ</h2>
        
        <div class="form-group">
          <label>–¢–∏–ø —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è:</label>
          <select 
            [(ngModel)]="form.type" 
            class="form-control"
            data-cy="type-select"
          >
            <option value="success">‚úÖ –£—Å–ø–µ—Ö</option>
            <option value="warning">‚ö†Ô∏è –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ</option>
            <option value="error">‚ùå –û—à–∏–±–∫–∞</option>
          </select>
        </div>

        <div class="form-group">
          <label>–°–ø–æ—Å–æ–± –ø–æ–∫–∞–∑–∞:</label>
          <select 
            [(ngModel)]="form.channel" 
            class="form-control" 
            (change)="onChannelChange()"
            data-cy="channel-select"
          >
            <option value="toast">–í—Å–ø–ª—ã–≤–∞—é—â–µ–µ (Toast)</option>
            <option value="modal">–ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ</option>
            <option value="alert">–ë—Ä–∞—É–∑–µ—Ä–Ω—ã–π Alert</option>
          </select>
        </div>

        <div class="form-group">
          <label>–ó–∞–≥–æ–ª–æ–≤–æ–∫:</label>
          <input 
            type="text" 
            [(ngModel)]="form.title" 
            class="form-control" 
            placeholder="–í–≤–µ–¥–∏—Ç–µ –∑–∞–≥–æ–ª–æ–≤–æ–∫"
            data-cy="title-input"
          >
        </div>

        <div class="form-group">
          <label>–°–æ–æ–±—â–µ–Ω–∏–µ:</label>
          <textarea 
            [(ngModel)]="form.message" 
            class="form-control" 
            rows="3"
            placeholder="–í–≤–µ–¥–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ"
            data-cy="message-textarea"
          ></textarea>
        </div>

        <!-- –í—Ä–µ–º—è –ø–æ–∫–∞–∑–∞ - —Ç–æ–ª—å–∫–æ –¥–ª—è Toast -->
        @if (isDurationAvailable) {
          <div class="form-group">
            <label>–í—Ä–µ–º—è –ø–æ–∫–∞–∑–∞ (—Å–µ–∫—É–Ω–¥—ã):</label>
            <input 
              type="number" 
              [(ngModel)]="form.duration" 
              class="form-control" 
              min="0" 
              max="60"
              data-cy="duration-input"
            >
            <small>0 = –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ</small>
          </div>
        }

        <div class="form-group">
          <label>–ó–∞–¥–µ—Ä–∂–∫–∞ (—Å–µ–∫—É–Ω–¥—ã):</label>
          <input 
            type="number" 
            [(ngModel)]="form.delay" 
            class="form-control" 
            min="0" 
            max="10"
            data-cy="delay-input"
          >
            <small>–ó–∞–¥–µ—Ä–∂–∫–∞ –ø–µ—Ä–µ–¥ –ø–æ–∫–∞–∑–æ–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è</small>
        </div>

        <!-- –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ - —Ç–æ–ª—å–∫–æ –¥–ª—è Toast -->
        @if (isGroupingAvailable) {
          <div class="form-group">
            <div class="checkbox-group">
              <label class="checkbox-label">
                <input 
                  type="checkbox" 
                  [(ngModel)]="form.grouped"
                  data-cy="grouped-checkbox"
                >
                –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
              </label>
              
              @if (form.grouped) {
                <div class="group-info">
                  <small>
                    üìä –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è —Å –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º —Ç–µ–∫—Å—Ç–æ–º –±—É–¥—É—Ç –æ–±—ä–µ–¥–∏–Ω—è—Ç—å—Å—è –≤ –æ–¥–Ω–æ —Å —Å—á–µ—Ç—á–∏–∫–æ–º
                  </small>
                </div>
              }
            </div>
          </div>
        }

        <!-- –ö–Ω–æ–ø–∫–∏ -->
        <div class="form-actions">
          <button 
            (click)="showNotification()" 
            class="btn btn-primary"
            [disabled]="!form.title || !form.message"
            data-cy="submit-button"
          >
            –ü–æ–∫–∞–∑–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
          </button>
          
          @if (isGroupingAvailable) {
            <button 
              (click)="showGroupedExample()" 
              class="btn btn-secondary"
              data-cy="grouped-example-button"
            >
              –¢–µ—Å—Ç –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏
            </button>
          }

          <button 
            (click)="clearForm()" 
            class="btn btn-clear"
            data-cy="clear-button"
          >
            –û—á–∏—Å—Ç–∏—Ç—å
          </button>
        </div>
      </div>
    </div>
  </main>
</div>